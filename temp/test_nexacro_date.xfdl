<?xml version="1.0" encoding="utf-8"?>
<FDL version="2.0">
  <Form id="test_nexacro_date" width="1280" height="720" titletext="New Form" ondrag="test_nexacro_date_ondrag" ondragmove="test_nexacro_date_ondragmove" ondrop="test_nexacro_date_ondrop" onload="test_nexacro_date_onload">
    <Layouts>
      <Layout height="720" mobileorientation="landscape" width="1280">
        <Button id="Button00" taborder="0" text="Button00" left="50" top="55" width="100" height="50"/>
        <Button id="Button01" taborder="1" text="Button01" left="150" top="55" width="100" height="50"/>
        <Button id="Button02" taborder="2" text="Button02" left="250" top="55" width="100" height="50"/>
        <Static id="Static00" taborder="3" text="Static00" left="85" top="161" width="183" height="29"/>
      </Layout>
    </Layouts>
    <Script type="xscript5.1"><![CDATA[var nButtonX;
var objButton;
var nButtonIndex;
var arButtonLeft = [50,150,250];
var arButton = [this.Button00, this.Button01, this.Button02];

//trace(window.location.href);

this.test_nexacro_date_ondrag = function(obj:nexacro.Form,e:nexacro.DragEventInfo)
{
	objButton = e.fromreferenceobject;
	nButtonX = e.clientx;
	for(var i=0;i<arButtonLeft.length;i++)
	{
		if(arButtonLeft[i]==e.fromreferenceobject.left)
			nButtonIndex = i;
	}
	return true;
};

this.test_nexacro_date_ondragmove = function(obj:nexacro.Form,e:nexacro.DragEventInfo)
{
	if(objButton == e.fromobject)
	{
		var nLeft = e.clientx;//-nButtonX;
		e.fromobject.move(nLeft,e.fromobject.top);
		if(e.clientx <= (arButtonLeft[nButtonIndex-1]+50))
		{
			nButtonIndex=nButtonIndex-1;
		}
		else if(e.clientx >= (arButtonLeft[nButtonIndex+1]+50))
		{
			nButtonIndex=nButtonIndex+1;
		}
	}
};

this.test_nexacro_date_ondrop = function(obj:nexacro.Form,e:nexacro.DragEventInfo)
{
/*trace("Left >> " + e.clientx + "  Top >>> " + e.clienty);
	var tempDS = this.ListBox00.getInnerDataset();
	var nIndex = tempDS.rowcount;
	tempDS.insertRow(nIndex);
    tempDS.setColumn(nIndex, "codecolumn", (e.clientx-nButtonX)+","+(e.clienty-nButtonY));
    tempDS.setColumn(nIndex, "datacolumn", "Left >> " + (e.clientx-nButtonX) + "  Top >>> " + (e.clienty-nButtonY));
    this.resetScroll();
	*/
};
]]></Script>
  </Form>
</FDL>
